<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title></title>
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <link rel="Stylesheet" type="text/css" href=".\Stylesheet.css">
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">

    class App extends React.Component{
      constructor(props){
        super(props);
      }
      monthDown=()=>{
        this.state.monthN == 1 ? this.setState({monthN:12,year:this.state.year - 1}):this.setState({monthN:this.state.monthN - 1})
      }

        monthUp=()=>{
          this.state.monthN == 12 ? this.setState({monthN:1, year:this.state.year +1}):this.setState({monthN:this.state.monthN + 1})

        }
      //functions
      render(){
      // const monthN = this.state.monthN
        return (
        <div>
        <MonthSelector onClick={this.monthDown}/>
        <DayTable />
        </div>
      );
      }
    };

    class MonthSelector extends React.Component{
      constructor(props){
        super(props);
        let date = new Date();
        let currentMonth = date.getMonth()+1;
        let currentYear = date.getFullYear();
        let lookupTable ={
          1:function(){
            return "January";
          },
          2:function(){
            return "February";
          },
          3:function(){
            return "March";
          },
          4:function(){
            return "April";
          },
          5:function(){
            return "May";
          },
          6:function(){
            return "June";
          },
          7:function(){
            return "July";
          },
          8:function(){
            return "August";
          },
          9:function(){
            return "September";
          },
          10:function(){
            return "October";
          },
          11:function(){
            return "November";
          },
          12:function(){
            return "December";
          }
        }

          this.state={
            monthN:currentMonth,
            year:currentYear,
            Mname:lookupTable[currentMonth](),
            lookupTable:lookupTable,
          }
        }

          monthDown=()=>{
            this.state.monthN == 1 ? this.setState(
              { monthN:12,
                year:this.state.year - 1,

              }
            ):this.setState(
              {monthN:this.state.monthN - 1,

              }
            )
          }

            monthUp=()=>{
              this.state.monthN == 12 ? this.setState({monthN:1, year:this.state.year +1}):this.setState({monthN:this.state.monthN + 1})
            }



        render(){
          return(
            <div>
              <div className="container">
                <h2>{this.state.year}</h2>
                  <div className="inline">
                    <button onClick={this.monthDown}>Prev</button>
    		            <h2>{this.state.lookupTable[this.state.monthN]()}</h2>
                    <button onClick={this.monthUp}>Next</button>
                  </div>
                </div>
            </div>
      )};
    };




class DayTable extends React.Component{
  constructor(props){
    super(props);
    this.state = {
      day:['M','T','W','T','F','S','S'],
    week:['','','','','','',1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,22,23,24,24,25,26,27,28,29,30,31,'',''],

    /* -- http://openweathermap.org
{"city":{"id":1851632,"name":"Shuzenji",
"coord":{"lon":138.933334,"lat":34.966671},
"country":"JP",
"cod":"200",
"message":0.0045,
"cnt":38,
"list":[{
        "dt":1406106000,
        "main":{
            "temp":298.77,
            "temp_min":298.77,
            "temp_max":298.774,
            "pressure":1005.93,
            "sea_level":1018.18,
            "grnd_level":1005.93,
            "humidity":87
            "temp_kf":0.26},
        "weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],
        "clouds":{"all":88},
        "wind":{"speed":5.71,"deg":229.501},
        "sys":{"pod":"d"},
        "dt_txt":"2014-07-23 09:00:00"}
      ]}*/
    }
  }
    handleClick =()=>{
      console.log(this.props.monthN);
    }


  render(){
    const Dweek = this.state.week.map((item,i)=>{
      return <li onClick={this.handleClick}key={i}>{item}</li>
    });
    const Dday = this.state.day.map((item,i)=>{
      return <li key={i}>{item}</li>
    });

    return(
      <div className="Middle">
      <ul>
      {Dday}
      {Dweek}
      </ul>
      </div>
    );
  }
};


class App extends React.Component{
  constructor(props){
    super(props);
  }
  render(){
    return (
    <div>
    <MonthSelector />
    <DayTable />
    </div>
  );
  }
};


     ReactDOM.render(<App />,document.getElementById('root'));

  </script>
</body>
</html>
