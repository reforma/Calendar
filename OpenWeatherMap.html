<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title></title>
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
        <script src="https://npmcdn.com/style-it@latest/dist/style-it-standalone.js"></script>
    <link rel="Stylesheet" type="text/css" href=".\Stylesheet.css">

    <!--75ececc593d1c21eb8c9d25d7ce97bac-->
    <!--2654730-->
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">

    class App extends React.Component{
      render(){
        return (
          <div>
          <APIDay city="London,uk" APIkey = '75ececc593d1c21eb8c9d25d7ce97bac' />
          </div>
        );
      }
    }

    const urlForUsername = username =>
     `api.openweathermap.org/data/2.5/weather?q=${city}&APPID=${APIkey}`

    class APIDay extends React.Component{
      constructor(props){
        super(props);
        this.state ={
          requestFailed:false
        }
      }

      componentDidMount(){
      fetch(`http://api.openweathermap.org/data/2.5/forecast?id=2654730&APPID=75ececc593d1c21eb8c9d25d7ce97bac`)
      .then(response => {
        if(!response.ok){
          throw Error('Network request Failed')
        }
        return response
      })
      .then(d => d.json())
      .then(d => {
        this.setState({
        githubData:d
      })
    },() =>{
      this.setState({
        requestFailed:true
      })
    })


}
  render(){console.log(this.state.githubData)
    if(this.state.requestFailed)return <p>Failed !</p>
    if(!this.state.githubData)return <p>loading....</p>
    return(
      <div>
      <h2>{this.state.githubData.name}</h2>

      </div>
    )
  }
}

    ReactDOM.render(<App />,document.getElementById('root'))
