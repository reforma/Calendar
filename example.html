<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title></title>
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <script src="https://npmcdn.com/style-it@latest/dist/style-it-standalone.js"></script>
    <link rel="Stylesheet" type="text/css" href=".\Stylesheet.css">
  </head>
  <body>
    <div id="container"></div>
    <script type="text/babel">


    class ProductRow extends React.Component {
      render() {
        var name = this.props.product.name === null ?
          this.props.product.category :
          <span style={{color: this.props.product.stocked}}>
            {this.props.product.category}
          </span>;
        return (
          <tr>
            <td>{name}</td>
          </tr>
        );
      }
    }

    class ProductTable extends React.Component {
      render() {
        var rows = [];
        var lastCategory = null;
        this.props.products.forEach(function(product) {
              rows.push(<ProductRow product={product} key={product.category} />);
          lastCategory = product.category;
        });
        return (
          <table>
            <thead>
            </thead>
            <tbody>{rows}</tbody>
          </table>
        );
      }
    }



    class FilterableProductTable extends React.Component {
      render() {
        return (
          <div>

            <ProductTable products={this.props.products} />
          </div>
        );
      }
    }


    var PRODUCTS = [
      {category: '1', stocked: 'red', name: 'Rain'},
      {category: '2',  stocked: 'red', name:  null},
      {category: '3',  stocked: 'yellow', name: null},
      {category: '4',  stocked: 'blue', name: 'clear'},
      {category: '5',  stocked: 'green', name: 'rain'},
      {category: '6',  stocked: 'black', name: null }
    ];

    ReactDOM.render(
      <FilterableProductTable products={PRODUCTS} />,
      document.getElementById('container')
    );
