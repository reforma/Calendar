<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title></title>
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <link rel="Stylesheet" type="text/css" href=".\Stylesheet.css">
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">

class App extends React.Component{
  constructor(props){
    super(props);
    let date = new Date();
    let currentMonth = date.getMonth()+1;
    let currentYear =date.getFullYear();
    let lookupTable ={
      1:function(){
        return "January";
      },
      2:function(){
        return "February";
      },
      3:function(){
        return "March";
      },
      4:function(){
        return "April";
      },
      5:function(){
        return "May";
      },
      6:function(){
        return "June";
      },
      7:function(){
        return "July";
      },
      8:function(){
        return "August";
      },
      9:function(){
        return "September";
      },
      10:function(){
        return "October";
      },
      11:function(){
        return "November";
      },
      12:function(){
        return "December";
      }
    }
    this.state ={
      monthN:currentMonth,
      year:currentYear,
      Mname:lookupTable[currentMonth](),
      lookupTable:lookupTable,
      day:['M','T','W','T','F','S','S'],
      week:['','',1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,'',''],
        }
      }
      monthDown=()=>{
    this.state.monthN == 1 ? this.setState(
      { monthN:12,
        year:this.state.year - 1,

      }
    ):this.setState(
      {monthN:this.state.monthN - 1,

      }
    )
  }

    monthUp=()=>{
      this.state.monthN == 12 ? this.setState({monthN:1, year:this.state.year +1})
      :this.setState({monthN:this.state.monthN + 1})
    }


  render(){
    return(
      <div>
      <MonthSelector
       monthN ={this.state.monthN}
       year = {this.state.year}
       Mname = {this.state.Mname}
       lookupTable = {this.state.lookupTable}
       monthUp={this.monthUp}
       monthDown={this.monthDown}
        />
       <DayTable
       day = {this.state.day}
       week = {this.state.week}
       monthN ={this.state.monthN} />
      </div>
    );
  }
};

class MonthSelector extends React.Component{
  constructor(props){
    super(props);
  }
  render(){
    const MonthName = this.props.lookupTable[this.props.monthN]();
    return(
      <div>
        <div className="container">
          <h2>{this.props.year}</h2>
            <div className="inline">
              <button onClick={this.props.monthDown}>Prev</button>
              <h2>{MonthName}</h2>
              <button onClick={this.props.monthUp}>Next</button>
              </div>
              </div>
              </div>
            );
          }
        };

class DayTable extends React.Component{
  constructor(props){
  super(props);
}
render(){
  let arr =[];
  let luTable = {
    1:function(){
      return 31;
    },
    2:function(){
      return 28;
    },
    3:function(){
      return 31;
    },
    4:function(){
      return 30;
    },
    5:function(){
      return 31
    },
    6:function(){
      return 30
    },
    7:function(){
      return 31
    },
    8:function(){
      return 31
    },
    9:function(){
      return 30
    },
    10:function(){
      return 31
    },
    11:function(){
      return 30
    },
    12:function(){
      return 30
    }
  }

  let limit = luTable[this.props.monthN]();
  for (var i = 0; i <= limit; i++){
    arr.push(i);
  }
            const Dweek = arr.map((item,i)=>{
              return <li key={i}>{item}</li>
            });
            const Dday = this.props.day.map((item,i)=>{
              return <li key={i}>{item}</li>
            });

            return(
              <div className="Middle">
              <ul>
              {Dday}
              {Dweek}
              </ul>
              </div>
            );
          }
        };


    ReactDOM.render(<App />,document.getElementById('root'))
